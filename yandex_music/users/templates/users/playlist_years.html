{% extends 'base.html' %}

{% block title %}Years | {{ playlist_title }}{% endblock %}

{% block body %}
    <div class="d-flex">
        <p class="display-4">
            Years in the playlist
            <a class="text-decoration-none" href="{{ url_for('users.playlist_page', user_id=user_id, playlist_id=playlist_id) }}">{{ playlist_title }}</a>
        </p>
    </div>

    <table class="table table-hover" id="yearsTable">
        <thead>
        <tr>
            <th scope="col" style="width: 10%">Tracks count</th>
            <th scope="col" style="width: 80%">Year</th>
        </tr>
        </thead>
        <tbody>
        {% for count in counter %}
        <tr>
            <td>{{ count[0] }}</td>
            <td>
                <a class="text-decoration-none mr-2" href="{{ url_for('users.year_tracks', user_id=user_id, playlist_id=playlist_id, year=count[1]) }}">{{ count[1] }}</a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

    <script>
        $(document).ready( function () {
            $('#yearsTable').DataTable( {
                "order": [[0, "desc"], [1, "asc"]]
            } );
        } );
    </script>
{% endblock %}